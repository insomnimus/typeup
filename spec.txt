whitespace at the start and end of lines is ignored

document > 1+ elements

plain text > 1+ characters, no newlines
styled text > bold (*x*), italic (_x_), link ([text text last-element-of-space-separated-list-is-href]), code (`x`)
text > 1+ of either text or styled text

element > line element, other element

line element > h1-6, =#, one-line quote, <hr>, metadata line (@{}), image, empty
h1-6: 1-6 # and plain text (no space needed)
=#: =# and plain text (no space needed)
one-line quote: > and styled text (no space)
<hr>: 2 or more dashes (-)
metadata line: @{<arbitrary spaces>key<arbitrary spaces>=<arbitrary spaces>value<arbitrary spaces>}.
image: ![alt text src-is-the-last-element-of-the-space-separated-list] or ![alt text|src]

other element > paragraph, list, multiline code, table, multi-line metadata
paragraph > many lines of styled text joined by "\n". "\n" replaced with space
list > ordered list/unordered list
ordered list > "{\n" list-content "}"
list content > styled text + "\n" or a list
multiline code > "===", newline, plain text until "===\n"
table > #<delimiter (every char until {)>{, 1+ rows, "}\n"
rows > 1+ styled text + delimiter, optionally ending with styled text without a delimiter
multi-line metadata > "@{\n" key-value pairs "}\n"
key-value pair > key<arbitrary spaces>=<arbitrary spaces>value
